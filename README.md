为了避免泄露用户的信息，gitignore了db.sqlite3文件
所以请自行migrate
数据表有三个，不是很规范，没有使用外key，懒得改了，用户量不大造成的额外性能损耗微小
虽然不规范，但是暂时能用
不要喷我谢谢
 注意，上面的问题已经修复,改用的都用了nnd dzgl

 -----2024.11.7晚
 # 数据库重构日志

## 重构条目 001 - 日期: 2024-01-01

### 更改目的
- 优化查询性能。
- 减少数据冗余。

### 详细更改
- 移除 `Leave` 模型中的 `name` 和 `class_name` 字段，改为通过关联的 `StudentProfile` 和 `Class` 模型动态获取。
- 为 `Leave` 模型的 `student` 和 `status` 字段添加索引以提高查询效率。

### 潜在问题
- 移除字段可能导致现有代码中依赖这些字段的查询和逻辑出错。
- 索引添加可能增加数据库的写操作成本。

### 预期风险
- 对现有系统功能的影响，需要进行彻底的测试以确认更改不会引发功能故障。
- 性能改进可能在某些情况下不如预期，特别是在负载较低时可能看不出效果。

## 重构条目 002 - 日期: 2024-02-15

### 更改目的
- 引入数据完整性约束。
- 优化数据结构，为未来功能扩展做准备。

### 详细更改
- 为 `Class` 模型中的 `teacher` 字段设置 `on_delete=models.SET_NULL`，以保持数据完整性。
- 引入新的模型 `Department`，与 `TeacherProfile` 建立关系。

### 潜在问题
- 更改外键删除策略可能导致在删除教师记录时未能正确处理相关班级记录。
- 新模型的引入需要更新系统的多个部分，包括前端展示和后端逻辑。

### 预期风险
- 数据库结构的变更可能需要较长时间的数据迁移，并有可能在迁移过程中出现数据丢失。
- 需要对系统进行广泛的测试，以确保新引入的模型与现有功能无缝集成。

代办 
- [] 更改views方法